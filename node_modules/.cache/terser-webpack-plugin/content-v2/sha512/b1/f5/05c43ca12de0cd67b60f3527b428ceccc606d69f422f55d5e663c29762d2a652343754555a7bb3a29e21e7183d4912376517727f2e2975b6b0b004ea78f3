{"map":"{\"version\":3,\"sources\":[\"theme-bundle.chunk.0.js\"],\"names\":[\"window\",\"push\",\"626\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"r\",\"$\",\"d\",\"initBrandPage\",\"initCategoryPage\",\"initBrandsPage\",\"initSearchPage\",\"lodash_debounce__WEBPACK_IMPORTED_MODULE_0__\",\"lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default\",\"n\",\"lodash_extend__WEBPACK_IMPORTED_MODULE_1__\",\"lodash_extend__WEBPACK_IMPORTED_MODULE_1___default\",\"_bigcommerce_stencil_utils__WEBPACK_IMPORTED_MODULE_2__\",\"InfiniteScroll\",\"$scope\",\"options\",\"context\",\"this\",\"containerSelector\",\"paginationSelector\",\"nextLinkSelector\",\"loadingClass\",\"threshold\",\"appendSelector\",\"template\",\"config\",\"isRequesting\",\"onScroll\",\"bind\",\"bindEvents\",\"_proto\",\"prototype\",\"on\",\"$pagination\",\"$nextLink\",\"length\",\"top\",\"offset\",\"y1\",\"scrollTop\",\"y2\",\"height\",\"href\",\"attr\",\"replace\",\"themeSettings\",\"products_per_page\",\"request\",\"url\",\"_this\",\"$container\",\"addClass\",\"getPage\",\"err\",\"resp\",\"removeClass\",\"$resp\",\"$append\",\"append\",\"$newPagination\",\"find\",\"empty\",\"children\",\"each\",\"i\",\"el\",\"brand\",\"products\",\"limit\",\"parseInt\",\"category\",\"brands\",\"product_results\",\"call\"],\"mappings\":\"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\"}","code":"(window.webpackJsonpWebpackChiara=window.webpackJsonpWebpackChiara||[]).push([[0],{626:function(t,i,n){\"use strict\";n.r(i),function(t){n.d(i,\"initBrandPage\",(function(){return p})),n.d(i,\"initCategoryPage\",(function(){return l})),n.d(i,\"initBrandsPage\",(function(){return d})),n.d(i,\"initSearchPage\",(function(){return h}));var e=n(75),o=n.n(e),a=n(42),s=n.n(a),r=n(5),c=function(){function i(t,i,n){this.options=s()({},{containerSelector:\".productGrid\",paginationSelector:\".pagination\",nextLinkSelector:\".pagination-item--next .pagination-link\",loadingClass:\"is-loading\",threshold:100,appendSelector:\".product\",template:\"chiara/category/ajax-product-listing\",config:{}},i),this.$scope=t,this.context=n,this.isRequesting=!1,this.onScroll=this.onScroll.bind(this),this.bindEvents()}var n=i.prototype;return n.bindEvents=function(){t(window).on(\"scroll\",o()(this.onScroll,200))},n.onScroll=function(){if(!this.isRequesting){var i=t(this.options.paginationSelector,this.$scope),n=t(this.options.nextLinkSelector,i);if(0!==n.length){var e=n.offset().top-this.options.threshold,o=t(window).scrollTop(),a=o+t(window).height();if(e>=o&&e<=a){var s=n.attr(\"href\").replace(/&?limit=[0-9]+/,\"\")+\"&limit=\"+this.context.themeSettings.products_per_page;this.request(s)}}}},n.request=function(i){var n=this,e=t(this.options.containerSelector,this.$scope),o=t(this.options.paginationSelector,this.$scope);this.isRequesting=!0,o.addClass(this.options.loadingClass),e.addClass(this.options.loadingClass),r.a.getPage(i,{template:this.options.template,config:this.options.config},(function(i,a){if(n.isRequesting=!1,o.removeClass(n.options.loadingClass),e.removeClass(n.options.loadingClass),i)return i;var s=t(a),r=t(n.options.appendSelector,s);r.length>0&&e.append(r);var c=s.find(n.options.paginationSelector);o.empty().append(c.children())}))},i}();function p(i){t(\"[data-brand-infinite-scroll]\").each((function(n,e){new c(t(e),{template:\"chiara/brand/ajax-product-listing\",config:{brand:{products:{limit:parseInt(i.themeSettings.products_per_page,10)}}}},i)}))}function l(i){t(\"[data-category-infinite-scroll]\").each((function(n,e){new c(t(e),{config:{category:{products:{limit:parseInt(i.themeSettings.products_per_page,10)}}}},i)}))}function d(i){t(\"[data-brands-infinite-scroll]\").each((function(n,e){new c(t(e),{containerSelector:\".brandGrid\",appendSelector:\".brand\",template:\"chiara/brand/ajax-brand-listing\",config:{brands:{limit:parseInt(i.themeSettings.products_per_page,10)}}},i)}))}function h(i){t(\"[data-search-infinite-scroll]\").each((function(n,e){new c(t(e),{template:\"chiara/search/ajax-product-listing\",config:{product_results:{limit:parseInt(i.themeSettings.products_per_page,10)}}},i)}))}i.default=c}.call(this,n(4))}}]);","extractedComments":[]}